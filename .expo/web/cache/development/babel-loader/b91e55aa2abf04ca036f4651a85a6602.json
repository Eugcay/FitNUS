{"ast":null,"code":"var _jsxFileName = \"D:\\\\CS Projects\\\\FitNUS Git\\\\FitNUS\\\\screens\\\\landingPage.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Background from \"../components/Background\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { startAsync, makeRedirectUri, getDefaultReturnUrl } from \"expo-auth-session\";\nimport Donut from \"../components/Donut\";\n\nfunction LandingPage(_ref) {\n  var navigation = _ref.navigation;\n  var config = {\n    issuer: 'https://vafs.nus.edu.sg/adfs/oauth2/authorize:',\n    response_type: 'code',\n    clientId: '97F0D1CACA7D41DE87538F9362924CCB-184318',\n    resource: 'sg_edu_nus_oauth',\n    redirectUrl: ':/callback',\n    additionalParameters: {},\n    scopes: ['openid', 'profile']\n  };\n  var authURL = 'https://vafs.nus.edu.sg/adfs/oauth2/authorize?';\n  var clientId = 'INC000002364746';\n\n  var openAuthSession = function openAuthSession() {\n    var redirectUrl, result, type, _result$errorCode, errorCode;\n\n    return _regeneratorRuntime.async(function openAuthSession$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            redirectUrl = makeRedirectUri({\n              native: 'fitnus://'\n            });\n            console.log(redirectUrl);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(startAsync({\n              authUrl: \"\" + authURL + \"?response_type=code\" + (\"&client_id=\" + clientId) + \"&amp;resource=sg_edu_nus_oauth\" + (\"&redirect_uri=\" + redirectUrl)\n            }));\n\n          case 4:\n            result = _context.sent;\n            console.log(result);\n            type = result.type, _result$errorCode = result.errorCode, errorCode = _result$errorCode === void 0 ? 'You cancel or dismissed the login' : _result$errorCode;\n\n            if (!(type === 'success')) {\n              _context.next = 11;\n              break;\n            }\n\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('userToken', JSON.stringify(result)));\n\n          case 10:\n            navigation.navigate(ScreenKeys.main);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var link = \"https://vafs.nus.edu.sg/adfs/oauth2/authorize\";\n  return React.createElement(Background, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, React.createElement(Image, {\n    source: require(\"../assets/National_University_of_Singapore_logo_NUS.png\"),\n    style: styles.logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: styles.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"FITNUS\"), React.createElement(Ionicons, {\n    name: \"md-barbell\",\n    size: 60,\n    color: \"#FFC94A\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: {\n      color: \"#F0FFFF\",\n      marginTop: 10,\n      marginBottom: 2,\n      fontSize: 13\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Login as\"), React.createElement(TouchableOpacity, {\n    title: \"NUS Auth\",\n    style: styles.nusButton,\n    onPress: function onPress() {\n      return openAuthSession();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"NUS Student / Staff\")), React.createElement(TouchableOpacity, {\n    title: \"Login\",\n    style: styles.loginButton,\n    onPress: function onPress() {\n      return navigation.navigate(\"LoginScreen\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Guest\")), React.createElement(TouchableOpacity, {\n    style: styles.forgotButton,\n    onPress: function onPress() {\n      return navigation.replace(\"SignupScreen\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: '#F5DC3C',\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Don't have an account?\"), React.createElement(Text, {\n    style: {\n      color: '#F5DC3C',\n      fontSize: 12,\n      textDecorationLine: 'underline'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \" Sign up\")));\n}\n\nexport default LandingPage;\nvar styles = StyleSheet.create({\n  logo: {\n    width: \"65%\",\n    height: \"13%\",\n    alignSelf: \"center\",\n    marginBottom: 14\n  },\n  loginButton: {\n    marginTop: 15,\n    width: \"77%\",\n    alignItems: \"center\",\n    marginVertical: 10,\n    paddingTop: 10,\n    paddingBottom: 10,\n    backgroundColor: \"#F0FFFF\",\n    borderRadius: 17,\n    borderWidth: 1,\n    borderColor: \"#fff\"\n  },\n  nusButton: {\n    marginTop: 15,\n    width: \"77%\",\n    alignItems: \"center\",\n    marginVertical: 10,\n    paddingTop: 10,\n    paddingBottom: 10,\n    backgroundColor: \"#FFC94A\",\n    borderRadius: 17,\n    borderWidth: 1,\n    borderColor: \"#fff\"\n  },\n  buttonText: {\n    color: \"#0B2A59\",\n    fontSize: 15\n  },\n  name: {\n    fontSize: 45,\n    color: \"#FFD700\",\n    fontFamily: 'Times New Roman',\n    fontWeight: 'bold',\n    marginTop: 10\n  },\n  forgotButton: {\n    alignItems: 'flex-end',\n    width: '76%',\n    height: 30,\n    marginVertical: 8,\n    fontSize: 14,\n    color: \"#F5DC3C\"\n  }\n});","map":{"version":3,"sources":["D:/CS Projects/FitNUS Git/FitNUS/screens/landingPage.js"],"names":["React","Background","Ionicons","startAsync","makeRedirectUri","getDefaultReturnUrl","Donut","LandingPage","navigation","config","issuer","response_type","clientId","resource","redirectUrl","additionalParameters","scopes","authURL","openAuthSession","native","console","log","authUrl","result","type","errorCode","AsyncStorage","setItem","JSON","stringify","navigate","ScreenKeys","main","link","require","styles","logo","name","color","marginTop","marginBottom","fontSize","nusButton","buttonText","loginButton","forgotButton","replace","textDecorationLine","StyleSheet","create","width","height","alignSelf","alignItems","marginVertical","paddingTop","paddingBottom","backgroundColor","borderRadius","borderWidth","borderColor","fontFamily","fontWeight"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Image, Text, TouchableOpacity, StyleSheet} from \"react-native\";\r\nimport Background from \"../components/Background\";\r\n\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport { startAsync, makeRedirectUri, getDefaultReturnUrl } from \"expo-auth-session\";\r\nimport Donut from \"../components/Donut\";\r\n\r\nfunction LandingPage({ navigation }) {\r\n  const config = {\r\n    issuer: 'https://vafs.nus.edu.sg/adfs/oauth2/authorize:',\r\n    response_type: 'code',\r\n    clientId: '97F0D1CACA7D41DE87538F9362924CCB-184318',\r\n    resource: 'sg_edu_nus_oauth',\r\n    redirectUrl: ':/callback',\r\n    additionalParameters: {},\r\n    scopes: ['openid', 'profile']\r\n  };\r\n\r\n  const authURL = 'https://vafs.nus.edu.sg/adfs/oauth2/authorize?'\r\n  const clientId = 'INC000002364746'\r\n\r\n  const openAuthSession = async () => {\r\n    const redirectUrl = makeRedirectUri({ native: 'fitnus://'})\r\n    console.log(redirectUrl)\r\n    const result = await startAsync({\r\n      authUrl:\r\n        `${authURL}` +\r\n        `?response_type=code` +\r\n        `&client_id=${clientId}` +\r\n        `&amp;resource=sg_edu_nus_oauth` +\r\n        `&redirect_uri=${redirectUrl}`,\r\n        \r\n    });\r\n    console.log(result)\r\n    const { type, errorCode = 'You cancel or dismissed the login' } = result;\r\n    if (type === 'success') {\r\n      // Just simple way to store the token in this examples\r\n      await AsyncStorage.setItem('userToken', JSON.stringify(result));\r\n      navigation.navigate(ScreenKeys.main);\r\n    } \r\n  }\r\n  \r\n  const link =\r\n    \"https://vafs.nus.edu.sg/adfs/oauth2/authorize\";\r\n  return (\r\n    <Background>\r\n      <Image\r\n        source={require(\"../assets/National_University_of_Singapore_logo_NUS.png\")}\r\n        style={styles.logo}\r\n      />\r\n      <Text style={styles.name}>FITNUS</Text>\r\n    \r\n      <Ionicons name=\"md-barbell\" size={60} color=\"#FFC94A\" />\r\n      <Text style={{color: \"#F0FFFF\", marginTop: 10, marginBottom: 2, fontSize: 13}}>Login as</Text>\r\n\r\n      <TouchableOpacity\r\n        title=\"NUS Auth\"\r\n        style={styles.nusButton}\r\n        onPress={() => openAuthSession()}\r\n      >\r\n        <Text style={styles.buttonText}>NUS Student / Staff</Text>\r\n      </TouchableOpacity>\r\n      <TouchableOpacity\r\n        title=\"Login\"\r\n        style={styles.loginButton}\r\n        onPress={() => navigation.navigate(\"LoginScreen\")}\r\n      >\r\n        <Text style={styles.buttonText}>Guest</Text>\r\n      </TouchableOpacity>\r\n\r\n      \r\n\r\n      <TouchableOpacity style={styles.forgotButton} onPress={() => navigation.replace(\"SignupScreen\")}>\r\n        <Text style={{color: '#F5DC3C', fontSize: 12}}>Don't have an account?</Text>\r\n        <Text style={{color: '#F5DC3C', fontSize: 12, textDecorationLine: 'underline'}}> Sign up</Text>\r\n      </TouchableOpacity>\r\n      \r\n    </Background>\r\n  );\r\n}\r\n\r\nexport default LandingPage;\r\n\r\nconst styles = StyleSheet.create({\r\n  logo: {\r\n    width: \"65%\",\r\n    height: \"13%\",\r\n    alignSelf: \"center\",\r\n    marginBottom: 14\r\n  },\r\n\r\n  loginButton: {\r\n    marginTop: 15,\r\n    width: \"77%\",\r\n    alignItems: \"center\",\r\n    marginVertical: 10,\r\n    paddingTop: 10,\r\n    paddingBottom: 10,\r\n    backgroundColor: \"#F0FFFF\",\r\n    borderRadius: 17,\r\n    borderWidth: 1,\r\n    borderColor: \"#fff\",\r\n  },\r\n\r\n  nusButton: {\r\n      marginTop: 15,\r\n      width: \"77%\",\r\n      alignItems: \"center\",\r\n      marginVertical: 10,\r\n      paddingTop: 10,\r\n      paddingBottom: 10,\r\n      backgroundColor: \"#FFC94A\",\r\n      borderRadius: 17,\r\n      borderWidth: 1,\r\n      borderColor: \"#fff\",\r\n  },\r\n\r\n  buttonText: {\r\n    color: \"#0B2A59\",\r\n    fontSize: 15\r\n  },\r\n\r\n  name: {\r\n      fontSize: 45,\r\n      color: \"#FFD700\",\r\n      fontFamily: 'Times New Roman',\r\n      fontWeight: 'bold',\r\n      marginTop: 10\r\n  },\r\n\r\n  forgotButton: {\r\n    alignItems: 'flex-end',\r\n    width: '76%',\r\n    height: 30,\r\n    marginVertical: 8,\r\n    fontSize: 14,\r\n    color: \"#F5DC3C\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}