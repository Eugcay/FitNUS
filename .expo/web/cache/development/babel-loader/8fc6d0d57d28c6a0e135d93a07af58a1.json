{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\CS Projects\\\\FitNUS Git\\\\FitNUS\\\\screens\\\\fitBud.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { getWorkouts } from \"../Api/workoutApi\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport HistoryBar from \"../components/fitBudComponents/historyBar\";\nimport FitBudSuggests from \"../components/fitBudComponents/fitBudSuggests\";\nimport WorkoutSearch from \"../components/fitBudComponents/workoutSearch\";\nimport { connect } from \"react-redux\";\nimport Spinner from \"../components/Spinner\";\nimport { getUserHistory } from \"../store/actions/user\";\n\nfunction FitBud(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      history = _useState2[0],\n      setHistory = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      workouts = _useState4[0],\n      setWorkouts = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      user = _useState6[0],\n      setUser = _useState6[1];\n\n  useEffect(function () {\n    setHistory(props.history);\n    setUser(props.user);\n    console.log(history);\n  }, [props.user, props.history]);\n  useEffect(function () {\n    var fetchWorkouts = getWorkouts().onSnapshot(function (querySnapshot) {\n      var workouts = [];\n      querySnapshot.forEach(function (documentSnapshot) {\n        workouts.push({\n          data: documentSnapshot.data(),\n          key: documentSnapshot.id\n        });\n      });\n      setWorkouts(workouts);\n    });\n    return fetchWorkouts;\n  }, []);\n  return React.createElement(ScrollView, {\n    style: {\n      flex: 1,\n      backgroundColor: \"#f2f2f2\"\n    },\n    scrollEnabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.headers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Workout History!\"), React.createElement(SafeAreaView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, history ? React.createElement(HistoryBar, {\n    navigation: props.navigation,\n    hist: history,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 20\n    }\n  }) : React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 82\n    }\n  })), React.createElement(View, {\n    style: styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: styles.headers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Try something New!\"), React.createElement(FitBudSuggests, {\n    navigation: props.navigation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: {\n      marginVertical: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.headers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Find a Workout\"), React.createElement(WorkoutSearch, {\n    navigation: props.navigation,\n    workouts: workouts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  })));\n}\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    currentUser: store.user.currentUser,\n    history: store.user.history\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getHistory: function getHistory() {\n      return dispatch(getUserHistory());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FitBud);\nvar styles = StyleSheet.create({\n  headers: {\n    fontSize: 20,\n    paddingHorizontal: 15\n  },\n  divider: {\n    width: \"100%\",\n    marginVertical: 10,\n    borderBottomColor: \"#A0A0A0\",\n    borderBottomWidth: 1,\n    alignSelf: \"center\"\n  }\n});","map":{"version":3,"sources":["D:/CS Projects/FitNUS Git/FitNUS/screens/fitBud.js"],"names":["React","useState","useEffect","getWorkouts","HistoryBar","FitBudSuggests","WorkoutSearch","connect","Spinner","getUserHistory","FitBud","props","history","setHistory","workouts","setWorkouts","user","setUser","console","log","fetchWorkouts","onSnapshot","querySnapshot","forEach","documentSnapshot","push","data","key","id","flex","backgroundColor","styles","headers","navigation","divider","marginVertical","mapStateToProps","store","currentUser","mapDispatchToProps","dispatch","getHistory","StyleSheet","create","fontSize","paddingHorizontal","width","borderBottomColor","borderBottomWidth","alignSelf"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { getWorkouts } from \"../Api/workoutApi\";\r\nimport { StyleSheet, View, Text, ScrollView, SafeAreaView } from \"react-native\";\r\n\r\nimport HistoryBar from \"../components/fitBudComponents/historyBar\";\r\nimport FitBudSuggests from \"../components/fitBudComponents/fitBudSuggests\";\r\nimport WorkoutSearch from \"../components/fitBudComponents/workoutSearch\";\r\nimport { connect } from \"react-redux\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport { getUserHistory } from \"../store/actions/user\";\r\n\r\n\r\n function FitBud(props) {\r\n  const [history, setHistory] = useState(null);\r\n  const [workouts, setWorkouts] = useState([]);\r\n  const [user, setUser] = useState(null)\r\n\r\n  // get history of user\r\n  useEffect(() => {\r\n    setHistory(props.history)\r\n    setUser(props.user)\r\n    console.log(history)\r\n  }, [props.user, props.history]);\r\n\r\n  // get workouts\r\n  useEffect(() => {\r\n    const fetchWorkouts = getWorkouts().onSnapshot((querySnapshot) => {\r\n      const workouts = [];\r\n      querySnapshot.forEach((documentSnapshot) => {\r\n        workouts.push({\r\n          data: documentSnapshot.data(),\r\n          key: documentSnapshot.id,\r\n        });\r\n      });\r\n      setWorkouts(workouts);\r\n    });\r\n\r\n    return fetchWorkouts;\r\n  }, []);\r\n\r\n  \r\n\r\n  return (\r\n    <ScrollView\r\n      style={{ flex: 1, backgroundColor: \"#f2f2f2\" }}\r\n      scrollEnabled={true}\r\n    >\r\n      <Text style={styles.headers}>Workout History!</Text>\r\n\r\n      <SafeAreaView>\r\n        {history ? <HistoryBar navigation={props.navigation} hist={history} /> : <Spinner/>}\r\n      </SafeAreaView>\r\n\r\n      <View style={styles.divider}></View>\r\n      <Text style={styles.headers}>Try something New!</Text>\r\n      <FitBudSuggests navigation={props.navigation} />\r\n      <View style={{ marginVertical: 20 }}>\r\n        <Text style={styles.headers}>Find a Workout</Text>\r\n        <WorkoutSearch navigation={props.navigation} workouts={workouts} />\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (store) => ({\r\n  currentUser: store.user.currentUser,\r\n  history: store.user.history\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getHistory: () => dispatch(getUserHistory())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FitBud)\r\n\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  headers: {\r\n    fontSize: 20,\r\n    paddingHorizontal: 15,\r\n  },\r\n\r\n  divider: {\r\n    width: \"100%\",\r\n    marginVertical: 10,\r\n    borderBottomColor: \"#A0A0A0\",\r\n    borderBottomWidth: 1,\r\n    alignSelf: \"center\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}